<%= turbo_frame_tag(account) do %>
  <div class="<%= turbo_frame_request? ? 'max-w-2xl' : 'max-w-lg' %>">
    <%= form_with(model: account, data: { turbo: turbo_frame_request? }, html: { class: 'space-y-4 md:space-y-6'}) do |f| %>
      <% currency_errors = account.errors[:currency_id] + account.errors[:currency] %>
      <% link_to_name = turbo_frame_request? ? "Cancel" : "Back to my accounts" %>
      <% link_to_data = turbo_frame_request? ? { turbo_action: 'advance' } : {} %>

      <div>
        <%= f.label(:currency_id, Account.human_attribute_name(:currency), class: form_label_classes(currency_errors)) %>
        <%= f.collection_select(:currency_id, Currency.all, :id, :name, { prompt: "Select a currency" }, { class: form_input_classes(currency_errors) }) %>
        <% if currency_errors.any? %>
          <div class="block text-sm font-light text-red-600">
            <%= currency_errors.join(", ") %>
          </div>
        <% end %>
      </div>

      <div class="flex gap-4">
        <%= f.submit("Create", class: "w-full px-5 py-2.5 text-base font-medium text-center text-white bg-blue-600 hover:bg-blue-700 rounded-lg focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800") %>
        <%= link_to(link_to_name, accounts_path, data: link_to_data, class: "w-full px-5 py-2.5 text-base font-medium text-center text-white bg-gray-600 hover:bg-gray-700 rounded-lg focus:ring-4 focus:outline-none focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800") %>
      </div>
    <% end %>
  </div>
<% end %>
